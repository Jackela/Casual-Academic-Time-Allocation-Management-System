18:53:43.410 [main] INFO org.springframework.boot.devtools.restart.RestartApplicationListener -- Restart disabled due to System property 'spring.devtools.restart.enabled' being set to false

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

18:53:43.757 [main] INFO  com.usyd.catams.CatamsApplication - Starting CatamsApplication using Java 21.0.8 with PID 68712 (D:\Code\Casual-Academic-Time-Allocation-Management-System\build\classes\java\main started by k7407 in D:\Code\Casual-Academic-Time-Allocation-Management-System)
18:53:43.758 [main] DEBUG com.usyd.catams.CatamsApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
18:53:43.758 [main] INFO  com.usyd.catams.CatamsApplication - The following 1 profile is active: "e2e"
18:53:43.794 [main] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
18:53:44.595 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
18:53:44.661 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 3 JPA repository interfaces.
18:53:45.346 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8084 (http)
18:53:45.353 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
18:53:45.354 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
18:53:45.407 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
18:53:45.408 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1613 ms
18:53:45.710 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
18:53:45.746 [main] INFO  o.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
18:53:45.746 [main] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
18:53:45.885 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
18:53:46.127 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
18:53:46.128 [main] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
18:53:46.150 [main] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 28.4.0
  API Version: 1.51
  Operating System: Docker Desktop
  Total Memory: 30006 MB
18:53:46.275 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
18:53:46.513 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 9d4cd352b8edf655359670e89546cdd8d68a98e94597a2a19b7077bee86d3721
18:53:46.915 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.6391173S
18:53:46.921 [main] INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
18:53:46.921 [main] INFO  o.testcontainers.DockerClientFactory - Checking the system...
18:53:46.922 [main] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
18:53:46.922 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
18:53:47.037 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: ebafdba9c52c2c656fabe279e1a392262b2835b4172469bbc28d7e2a275f8d4d
18:53:48.757 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT1.8353219S
18:53:48.758 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:50173/test?loggerLevel=OFF)
18:53:48.873 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.testcontainers.jdbc.ConnectionWrapper@3c68e82
18:53:48.874 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
18:53:48.898 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://localhost:50173/test (PostgreSQL 15.14)
18:53:48.935 [main] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "public"."flyway_schema_history" does not exist yet
18:53:48.938 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 10 migrations (execution time 00:00.018s)
18:53:48.955 [main] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Creating Schema History table "public"."flyway_schema_history" ...
18:53:49.022 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
18:53:49.034 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1 - Init schema"
18:53:49.054 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: column "name" of relation "users" already exists, skipping (SQL State: 42701 - Error Code: 0)
18:53:49.056 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: column "hashed_password" of relation "users" already exists, skipping (SQL State: 42701 - Error Code: 0)
18:53:49.057 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: column "role" of relation "users" already exists, skipping (SQL State: 42701 - Error Code: 0)
18:53:49.058 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: column "is_active" of relation "users" already exists, skipping (SQL State: 42701 - Error Code: 0)
18:53:49.059 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: column "created_at" of relation "users" already exists, skipping (SQL State: 42701 - Error Code: 0)
18:53:49.060 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: column "updated_at" of relation "users" already exists, skipping (SQL State: 42701 - Error Code: 0)
18:53:49.061 [main] WARN  o.f.c.i.s.DefaultSqlScriptExecutor - DB: column "last_login_at" of relation "users" already exists, skipping (SQL State: 42701 - Error Code: 0)
18:53:49.087 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "2 - Create approvals table"
18:53:49.107 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "3 - Create courses table"
18:53:49.144 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "4 - Create timesheets table"
18:53:49.187 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "5 - Create approvals table"
18:53:49.236 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "6 - Add pending approval indexes"
18:53:49.260 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "7 - Update approval status constraints"
18:53:49.262 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: constraint "approvals_previous_status_check" of relation "approvals" does not exist, skipping
18:53:49.263 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: constraint "approvals_new_status_check" of relation "approvals" does not exist, skipping
18:53:49.264 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: constraint "approvals_action_check" of relation "approvals" does not exist, skipping
18:53:49.278 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Successfully updated approval status constraints to support dual workflow paths
18:53:49.278 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Added support for: APPROVED_BY_TUTOR, APPROVED_BY_LECTURER_AND_TUTOR, HR_APPROVED
18:53:49.278 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Added support for actions: FINAL_APPROVAL, HR_APPROVE, HR_REJECT
18:53:49.294 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "8 - Normalize course money not null"
18:53:49.321 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "9 - Update confirmation workflow enums"
18:53:49.329 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Starting approval workflow to confirmation workflow migration...
18:53:49.329 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Updated 0 timesheets from PENDING_TUTOR_REVIEW to PENDING_TUTOR_CONFIRMATION
18:53:49.329 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Updated 0 timesheets from APPROVED_BY_TUTOR to TUTOR_CONFIRMED
18:53:49.329 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Updated 0 timesheets from APPROVED_BY_LECTURER_AND_TUTOR to LECTURER_CONFIRMED
18:53:49.329 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Updated 0 timesheets from FINAL_APPROVED to FINAL_CONFIRMED
18:53:49.329 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Updated approval history status values to confirmation workflow
18:53:49.330 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Updated approval actions to confirmation workflow
18:53:49.335 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: constraint "timesheets_status_check" of relation "timesheets" does not exist, skipping
18:53:49.347 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Migration completed successfully!
18:53:49.347 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Timesheets in confirmation workflow states: 0
18:53:49.347 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Approval records with confirmation actions: 0
18:53:49.347 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Updated workflow: DRAFT → PENDING_TUTOR_CONFIRMATION → TUTOR_CONFIRMED → LECTURER_CONFIRMED → FINAL_CONFIRMED
18:53:49.347 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: New actions: TUTOR_CONFIRM, LECTURER_CONFIRM, HR_CONFIRM (replacing generic APPROVE)
18:53:49.363 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "10 - cleanup enum constraints to spec"
18:53:49.385 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Database constraints cleaned up to match exact specification requirements
18:53:49.385 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Removed legacy enum values: PENDING_LECTURER_APPROVAL, PENDING_HR_REVIEW, HR_APPROVED
18:53:49.385 [main] INFO  o.f.c.i.s.DefaultSqlScriptExecutor - DB: Specification-compliant workflow: DRAFT → PENDING_TUTOR_CONFIRMATION → TUTOR_CONFIRMED → LECTURER_CONFIRMED → FINAL_CONFIRMED
18:53:49.401 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 10 migrations to schema "public", now at version v10 (execution time 00:00.219s)
18:53:49.495 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
18:53:49.541 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.3.1.Final
18:53:49.577 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
18:53:49.769 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
18:53:49.812 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
18:53:50.698 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
18:53:50.731 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
18:53:51.006 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
18:53:51.412 [main] DEBUG c.u.c.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
18:53:52.116 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: e39106be-dae2-4009-b287-184f8e5b2b1b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

18:53:52.493 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint(s) beneath base path '/actuator'
18:53:52.964 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8084 (http) with context path ''
18:53:52.972 [main] INFO  com.usyd.catams.CatamsApplication - Started CatamsApplication in 9.574 seconds (process running for 9.897)
18:53:53.046 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 10 migrations (execution time 00:00.008s)
18:53:53.056 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 10
18:53:53.057 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
🚀 Starting E2E data initialization...
📋 Active profiles: null
✅ E2E test data initialized
18:54:15.759 [http-nio-8084-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
18:54:15.759 [http-nio-8084-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
18:54:15.760 [http-nio-8084-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
18:54:15.785 [http-nio-8084-exec-1] WARN  o.s.w.s.h.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/actuator/health' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
18:54:17.922 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:54:17.923 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:54:18.023 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:54:19.409 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:19.410 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:54:19.438 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:54:20.816 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:54:20.817 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:54:20.836 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:54:23.349 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:23.401 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:23.407 [http-nio-8084-exec-1] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=9, requesterId=2
18:54:23.409 [http-nio-8084-exec-1] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=9, requesterId=2
18:54:23.435 [http-nio-8084-exec-1] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=9, approverId=2, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:54:23.440 [http-nio-8084-exec-1] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=9, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:54:23.458 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:54:23.459 [http-nio-8084-exec-3] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=TUTOR_CONFIRM, timesheetId=9, requesterId=3
18:54:23.460 [http-nio-8084-exec-3] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=TUTOR_CONFIRM, timesheetId=9, requesterId=3
18:54:23.470 [http-nio-8084-exec-3] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=TUTOR_CONFIRM, timesheetId=9, approverId=3, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:54:23.474 [http-nio-8084-exec-3] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=TUTOR_CONFIRM, timesheetId=9, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:54:23.486 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:54:23.523 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:23.525 [http-nio-8084-exec-6] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=9, requesterId=2
18:54:23.526 [http-nio-8084-exec-6] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=9, requesterId=2
18:54:23.535 [http-nio-8084-exec-6] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=LECTURER_CONFIRM, timesheetId=9, approverId=2, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:54:23.539 [http-nio-8084-exec-6] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=LECTURER_CONFIRM, timesheetId=9, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:54:23.550 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:54:23.552 [http-nio-8084-exec-5] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=HR_CONFIRM, timesheetId=9, requesterId=1
18:54:23.553 [http-nio-8084-exec-5] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=HR_CONFIRM, timesheetId=9, requesterId=1
18:54:23.562 [http-nio-8084-exec-5] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=HR_CONFIRM, timesheetId=9, approverId=1, fromStatus=LECTURER_CONFIRMED, toStatus=FINAL_CONFIRMED
18:54:23.565 [http-nio-8084-exec-5] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=HR_CONFIRM, timesheetId=9, fromStatus=LECTURER_CONFIRMED, toStatus=FINAL_CONFIRMED
18:54:23.604 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:23.640 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:23.641 [http-nio-8084-exec-8] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=10, requesterId=2
18:54:23.641 [http-nio-8084-exec-8] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=10, requesterId=2
18:54:23.650 [http-nio-8084-exec-8] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=10, approverId=2, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:54:23.654 [http-nio-8084-exec-8] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=10, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:54:23.663 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:54:23.664 [http-nio-8084-exec-9] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=TUTOR_CONFIRM, timesheetId=10, requesterId=3
18:54:23.665 [http-nio-8084-exec-9] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=TUTOR_CONFIRM, timesheetId=10, requesterId=3
18:54:23.673 [http-nio-8084-exec-9] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=TUTOR_CONFIRM, timesheetId=10, approverId=3, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:54:23.676 [http-nio-8084-exec-9] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=TUTOR_CONFIRM, timesheetId=10, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:54:23.686 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:54:23.710 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:23.712 [http-nio-8084-exec-10] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=10, requesterId=2
18:54:23.712 [http-nio-8084-exec-10] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=10, requesterId=2
18:54:23.721 [http-nio-8084-exec-10] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=LECTURER_CONFIRM, timesheetId=10, approverId=2, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:54:23.724 [http-nio-8084-exec-10] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=LECTURER_CONFIRM, timesheetId=10, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:54:23.734 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:54:23.735 [http-nio-8084-exec-1] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=HR_CONFIRM, timesheetId=10, requesterId=1
18:54:23.736 [http-nio-8084-exec-1] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=HR_CONFIRM, timesheetId=10, requesterId=1
18:54:23.745 [http-nio-8084-exec-1] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=HR_CONFIRM, timesheetId=10, approverId=1, fromStatus=LECTURER_CONFIRMED, toStatus=FINAL_CONFIRMED
18:54:23.750 [http-nio-8084-exec-1] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=HR_CONFIRM, timesheetId=10, fromStatus=LECTURER_CONFIRMED, toStatus=FINAL_CONFIRMED
18:54:23.784 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:54:23.847 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:23.894 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:23.921 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:23.923 [http-nio-8084-exec-4] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=11, requesterId=2
18:54:23.924 [http-nio-8084-exec-4] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=11, requesterId=2
18:54:23.933 [http-nio-8084-exec-4] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=11, approverId=2, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:54:23.936 [http-nio-8084-exec-4] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=11, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:54:23.945 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:54:23.947 [http-nio-8084-exec-8] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=TUTOR_CONFIRM, timesheetId=11, requesterId=3
18:54:23.948 [http-nio-8084-exec-8] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=TUTOR_CONFIRM, timesheetId=11, requesterId=3
18:54:23.956 [http-nio-8084-exec-8] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=TUTOR_CONFIRM, timesheetId=11, approverId=3, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:54:23.959 [http-nio-8084-exec-8] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=TUTOR_CONFIRM, timesheetId=11, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:54:23.969 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:23.970 [http-nio-8084-exec-9] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=11, requesterId=2
18:54:23.970 [http-nio-8084-exec-9] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=11, requesterId=2
18:54:23.978 [http-nio-8084-exec-9] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=LECTURER_CONFIRM, timesheetId=11, approverId=2, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:54:23.982 [http-nio-8084-exec-9] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=LECTURER_CONFIRM, timesheetId=11, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:54:23.994 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:54:23.999 [http-nio-8084-exec-2] WARN  c.u.c.e.GlobalExceptionHandler - Message not readable: Invalid request body
18:54:24.012 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:24.014 [http-nio-8084-exec-10] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=11, requesterId=2
18:54:24.014 [http-nio-8084-exec-10] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=11, requesterId=2
18:54:24.020 [http-nio-8084-exec-10] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=11, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
18:54:24.022 [http-nio-8084-exec-10] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
18:54:24.516 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:24.517 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:54:24.547 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:54:36.717 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:36.723 [http-nio-8084-exec-9] ERROR c.u.c.e.GlobalExceptionHandler - System exception: No static resource api/auth/logout.
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/logout.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.usyd.catams.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:63)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
18:54:37.978 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:37.978 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:54:38.009 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:54:38.660 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:38.662 [http-nio-8084-exec-9] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=3, requesterId=2
18:54:38.662 [http-nio-8084-exec-9] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=3, requesterId=2
18:54:38.672 [http-nio-8084-exec-9] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=LECTURER_CONFIRM, timesheetId=3, approverId=2, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:54:38.676 [http-nio-8084-exec-9] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=LECTURER_CONFIRM, timesheetId=3, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:54:38.694 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:38.695 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:54:41.208 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:41.208 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:54:41.229 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:54:41.699 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:54:41.699 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:54:41.716 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:54:42.181 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:54:42.182 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:54:42.201 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:54:42.650 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:42.677 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:42.678 [http-nio-8084-exec-9] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=12, requesterId=2
18:54:42.679 [http-nio-8084-exec-9] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=12, requesterId=2
18:54:42.686 [http-nio-8084-exec-9] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=12, approverId=2, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:54:42.689 [http-nio-8084-exec-9] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=12, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:54:42.698 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:54:42.700 [http-nio-8084-exec-4] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=TUTOR_CONFIRM, timesheetId=12, requesterId=3
18:54:42.700 [http-nio-8084-exec-4] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=TUTOR_CONFIRM, timesheetId=12, requesterId=3
18:54:42.707 [http-nio-8084-exec-4] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=TUTOR_CONFIRM, timesheetId=12, approverId=3, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:54:42.710 [http-nio-8084-exec-4] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=TUTOR_CONFIRM, timesheetId=12, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:54:42.719 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:42.720 [http-nio-8084-exec-2] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=12, requesterId=2
18:54:42.720 [http-nio-8084-exec-2] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=12, requesterId=2
18:54:42.728 [http-nio-8084-exec-2] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=LECTURER_CONFIRM, timesheetId=12, approverId=2, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:54:42.731 [http-nio-8084-exec-2] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=LECTURER_CONFIRM, timesheetId=12, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:54:43.006 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:54:53.091 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:53.092 [http-nio-8084-exec-1] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=12, requesterId=2
18:54:53.093 [http-nio-8084-exec-1] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=12, requesterId=2
18:54:53.098 [http-nio-8084-exec-1] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=12, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
18:54:53.100 [http-nio-8084-exec-1] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
18:54:54.744 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:54.775 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:54.777 [http-nio-8084-exec-4] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=13, requesterId=2
18:54:54.777 [http-nio-8084-exec-4] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=13, requesterId=2
18:54:54.785 [http-nio-8084-exec-4] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=13, approverId=2, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:54:54.790 [http-nio-8084-exec-4] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=13, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:54:54.800 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:54:54.801 [http-nio-8084-exec-2] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=TUTOR_CONFIRM, timesheetId=13, requesterId=3
18:54:54.801 [http-nio-8084-exec-2] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=TUTOR_CONFIRM, timesheetId=13, requesterId=3
18:54:54.810 [http-nio-8084-exec-2] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=TUTOR_CONFIRM, timesheetId=13, approverId=3, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:54:54.813 [http-nio-8084-exec-2] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=TUTOR_CONFIRM, timesheetId=13, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:54:54.823 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:54:54.825 [http-nio-8084-exec-8] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=13, requesterId=2
18:54:54.825 [http-nio-8084-exec-8] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=13, requesterId=2
18:54:54.833 [http-nio-8084-exec-8] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=LECTURER_CONFIRM, timesheetId=13, approverId=2, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:54:54.836 [http-nio-8084-exec-8] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=LECTURER_CONFIRM, timesheetId=13, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:54:55.150 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:55:05.329 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:05.331 [http-nio-8084-exec-7] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=13, requesterId=2
18:55:05.331 [http-nio-8084-exec-7] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=13, requesterId=2
18:55:05.336 [http-nio-8084-exec-7] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=13, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
18:55:05.338 [http-nio-8084-exec-7] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
18:55:07.350 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:07.383 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:07.385 [http-nio-8084-exec-2] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=14, requesterId=2
18:55:07.385 [http-nio-8084-exec-2] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=14, requesterId=2
18:55:07.393 [http-nio-8084-exec-2] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=14, approverId=2, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:55:07.397 [http-nio-8084-exec-2] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=14, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:55:07.408 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:55:07.411 [http-nio-8084-exec-8] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=TUTOR_CONFIRM, timesheetId=14, requesterId=3
18:55:07.411 [http-nio-8084-exec-8] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=TUTOR_CONFIRM, timesheetId=14, requesterId=3
18:55:07.418 [http-nio-8084-exec-8] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=TUTOR_CONFIRM, timesheetId=14, approverId=3, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:55:07.422 [http-nio-8084-exec-8] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=TUTOR_CONFIRM, timesheetId=14, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:55:07.449 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:07.453 [http-nio-8084-exec-1] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=14, requesterId=2
18:55:07.455 [http-nio-8084-exec-1] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=14, requesterId=2
18:55:07.468 [http-nio-8084-exec-1] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=LECTURER_CONFIRM, timesheetId=14, approverId=2, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:55:07.474 [http-nio-8084-exec-1] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=LECTURER_CONFIRM, timesheetId=14, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:55:07.789 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:55:17.896 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:17.898 [http-nio-8084-exec-5] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=14, requesterId=2
18:55:17.898 [http-nio-8084-exec-5] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=14, requesterId=2
18:55:17.903 [http-nio-8084-exec-5] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=14, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
18:55:17.904 [http-nio-8084-exec-5] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
18:55:19.762 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:19.793 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:19.794 [http-nio-8084-exec-7] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=15, requesterId=2
18:55:19.795 [http-nio-8084-exec-7] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=15, requesterId=2
18:55:19.804 [http-nio-8084-exec-7] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=15, approverId=2, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:55:19.807 [http-nio-8084-exec-7] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=15, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:55:19.819 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:55:19.820 [http-nio-8084-exec-6] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=TUTOR_CONFIRM, timesheetId=15, requesterId=3
18:55:19.820 [http-nio-8084-exec-6] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=TUTOR_CONFIRM, timesheetId=15, requesterId=3
18:55:19.829 [http-nio-8084-exec-6] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=TUTOR_CONFIRM, timesheetId=15, approverId=3, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:55:19.832 [http-nio-8084-exec-6] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=TUTOR_CONFIRM, timesheetId=15, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:55:19.842 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:19.843 [http-nio-8084-exec-10] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=15, requesterId=2
18:55:19.843 [http-nio-8084-exec-10] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=15, requesterId=2
18:55:19.851 [http-nio-8084-exec-10] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=LECTURER_CONFIRM, timesheetId=15, approverId=2, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:55:19.854 [http-nio-8084-exec-10] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=LECTURER_CONFIRM, timesheetId=15, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:55:20.173 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:55:30.359 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:30.361 [http-nio-8084-exec-3] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=15, requesterId=2
18:55:30.361 [http-nio-8084-exec-3] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=15, requesterId=2
18:55:30.366 [http-nio-8084-exec-3] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=15, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
18:55:30.368 [http-nio-8084-exec-3] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
18:55:32.071 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:32.094 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:32.096 [http-nio-8084-exec-6] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=16, requesterId=2
18:55:32.096 [http-nio-8084-exec-6] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=16, requesterId=2
18:55:32.102 [http-nio-8084-exec-6] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=16, approverId=2, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:55:32.105 [http-nio-8084-exec-6] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=16, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:55:32.113 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:55:32.115 [http-nio-8084-exec-10] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=TUTOR_CONFIRM, timesheetId=16, requesterId=3
18:55:32.115 [http-nio-8084-exec-10] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=TUTOR_CONFIRM, timesheetId=16, requesterId=3
18:55:32.122 [http-nio-8084-exec-10] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=TUTOR_CONFIRM, timesheetId=16, approverId=3, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:55:32.125 [http-nio-8084-exec-10] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=TUTOR_CONFIRM, timesheetId=16, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:55:32.133 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:32.134 [http-nio-8084-exec-5] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=16, requesterId=2
18:55:32.134 [http-nio-8084-exec-5] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=16, requesterId=2
18:55:32.141 [http-nio-8084-exec-5] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=LECTURER_CONFIRM, timesheetId=16, approverId=2, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:55:32.144 [http-nio-8084-exec-5] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=LECTURER_CONFIRM, timesheetId=16, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:55:32.407 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:55:42.505 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:42.507 [http-nio-8084-exec-9] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=16, requesterId=2
18:55:42.507 [http-nio-8084-exec-9] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=16, requesterId=2
18:55:42.512 [http-nio-8084-exec-9] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=16, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
18:55:42.513 [http-nio-8084-exec-9] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
18:55:44.218 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:44.246 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:44.247 [http-nio-8084-exec-10] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=17, requesterId=2
18:55:44.248 [http-nio-8084-exec-10] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=17, requesterId=2
18:55:44.255 [http-nio-8084-exec-10] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=17, approverId=2, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:55:44.258 [http-nio-8084-exec-10] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=17, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
18:55:44.267 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
18:55:44.268 [http-nio-8084-exec-5] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=TUTOR_CONFIRM, timesheetId=17, requesterId=3
18:55:44.268 [http-nio-8084-exec-5] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=TUTOR_CONFIRM, timesheetId=17, requesterId=3
18:55:44.276 [http-nio-8084-exec-5] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=TUTOR_CONFIRM, timesheetId=17, approverId=3, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:55:44.279 [http-nio-8084-exec-5] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=TUTOR_CONFIRM, timesheetId=17, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
18:55:44.289 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:44.290 [http-nio-8084-exec-3] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=17, requesterId=2
18:55:44.290 [http-nio-8084-exec-3] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=17, requesterId=2
18:55:44.297 [http-nio-8084-exec-3] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=LECTURER_CONFIRM, timesheetId=17, approverId=2, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:55:44.300 [http-nio-8084-exec-3] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=LECTURER_CONFIRM, timesheetId=17, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
18:55:44.605 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:55:54.761 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:55:54.762 [http-nio-8084-exec-8] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=17, requesterId=2
18:55:54.762 [http-nio-8084-exec-8] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=17, requesterId=2
18:55:54.767 [http-nio-8084-exec-8] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=17, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
18:55:54.769 [http-nio-8084-exec-8] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
18:55:56.728 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:56:03.634 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
18:56:10.544 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:56:10.545 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:56:10.577 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:56:11.142 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:56:11.142 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:56:11.167 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:56:11.728 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:56:11.728 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:56:11.754 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:56:12.296 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:56:12.296 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:56:12.322 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:56:12.871 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:56:12.871 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
DEBUG: Summary data: 8 timesheets
18:56:19.682 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:56:19.682 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
DEBUG: Summary data: 8 timesheets
18:56:26.652 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:56:26.652 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
DEBUG: Summary data: 8 timesheets
18:56:32.253 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:56:32.253 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
DEBUG: Summary data: 8 timesheets
18:56:32.741 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
18:56:32.742 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
18:56:32.762 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
19:01:22.396 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:01:22.851 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:01:22.851 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
19:01:22.868 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
19:01:23.385 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:01:23.385 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:01:23.396 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:01:23.645 [http-nio-8084-exec-9] WARN  c.u.c.e.GlobalExceptionHandler - Authentication exception: Invalid email or password
19:01:23.987 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:01:23.989 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:01:24.006 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:01:24.051 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:01:24.054 [http-nio-8084-exec-6] ERROR c.u.c.e.GlobalExceptionHandler - System exception: No static resource api/auth/logout.
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/logout.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.usyd.catams.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:63)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
19:01:24.842 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:01:24.842 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:01:24.860 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:01:27.964 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:01:28.574 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:01:28.575 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:01:28.586 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:01:40.771 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:01:41.454 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:01:41.712 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:01:41.713 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:01:41.726 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:01:53.944 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:01:53.944 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:01:54.091 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:01:54.092 [http-nio-8084-exec-5] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=18, requesterId=2
19:01:54.092 [http-nio-8084-exec-5] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=18, requesterId=2
19:01:54.096 [http-nio-8084-exec-5] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=18, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status DRAFT
19:01:54.098 [http-nio-8084-exec-5] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status DRAFT
19:01:54.105 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:01:54.609 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:01:54.852 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:01:54.853 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:01:54.866 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:07.075 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:07.075 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:07.285 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:07.285 [http-nio-8084-exec-10] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=19, requesterId=3
19:02:07.285 [http-nio-8084-exec-10] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=19, requesterId=3
19:02:07.296 [http-nio-8084-exec-10] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=19, approverId=3, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
19:02:07.300 [http-nio-8084-exec-10] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=19, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
19:02:07.309 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:07.309 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:13.222 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:02:13.224 [http-nio-8084-exec-7] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=19, requesterId=2
19:02:13.224 [http-nio-8084-exec-7] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=19, requesterId=2
19:02:13.227 [http-nio-8084-exec-7] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=19, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status PENDING_TUTOR_CONFIRMATION
19:02:13.229 [http-nio-8084-exec-7] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status PENDING_TUTOR_CONFIRMATION
19:02:13.236 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:02:13.242 [http-nio-8084-exec-1] WARN  c.u.c.e.GlobalExceptionHandler - Business rule violation: Cannot delete timesheet with status: PENDING_TUTOR_CONFIRMATION. Only DRAFT timesheets can be deleted.
19:02:14.610 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:02:14.922 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:14.923 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:14.941 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:27.264 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:27.264 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:27.743 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:27.744 [http-nio-8084-exec-2] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=20, requesterId=3
19:02:27.745 [http-nio-8084-exec-2] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=20, requesterId=3
19:02:27.767 [http-nio-8084-exec-2] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=20, approverId=3, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
19:02:27.776 [http-nio-8084-exec-2] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=20, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
19:02:27.803 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:27.803 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:33.229 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:02:33.230 [http-nio-8084-exec-1] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=20, requesterId=2
19:02:33.230 [http-nio-8084-exec-1] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=20, requesterId=2
19:02:33.236 [http-nio-8084-exec-1] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=20, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status PENDING_TUTOR_CONFIRMATION
19:02:33.237 [http-nio-8084-exec-1] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status PENDING_TUTOR_CONFIRMATION
19:02:33.248 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:02:33.256 [http-nio-8084-exec-3] WARN  c.u.c.e.GlobalExceptionHandler - Business rule violation: Cannot delete timesheet with status: PENDING_TUTOR_CONFIRMATION. Only DRAFT timesheets can be deleted.
19:02:34.643 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:02:34.648 [http-nio-8084-exec-9] WARN  c.u.c.e.GlobalExceptionHandler - Validation exception: Validation failed: hours: Hours cannot exceed 40.0
19:02:35.235 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:02:35.235 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
19:02:35.256 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
19:02:35.496 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:02:35.497 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
19:02:35.517 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
19:02:36.455 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:02:36.477 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:02:36.478 [http-nio-8084-exec-7] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=21, requesterId=2
19:02:36.478 [http-nio-8084-exec-7] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=21, requesterId=2
19:02:36.485 [http-nio-8084-exec-7] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=21, approverId=2, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
19:02:36.488 [http-nio-8084-exec-7] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=21, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
19:02:36.496 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:36.496 [http-nio-8084-exec-9] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=TUTOR_CONFIRM, timesheetId=21, requesterId=3
19:02:36.497 [http-nio-8084-exec-9] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=TUTOR_CONFIRM, timesheetId=21, requesterId=3
19:02:36.502 [http-nio-8084-exec-9] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=TUTOR_CONFIRM, timesheetId=21, approverId=3, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
19:02:36.505 [http-nio-8084-exec-9] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=TUTOR_CONFIRM, timesheetId=21, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
19:02:36.513 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:02:36.514 [http-nio-8084-exec-4] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=21, requesterId=2
19:02:36.515 [http-nio-8084-exec-4] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=21, requesterId=2
19:02:36.521 [http-nio-8084-exec-4] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=LECTURER_CONFIRM, timesheetId=21, approverId=2, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
19:02:36.524 [http-nio-8084-exec-4] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=LECTURER_CONFIRM, timesheetId=21, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
19:02:36.750 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:02:36.750 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:02:36.767 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:02:36.829 [http-nio-8084-exec-5] ERROR c.u.c.e.GlobalExceptionHandler - System exception: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
org.apache.catalina.connector.ClientAbortException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:267)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:120)
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:524)
	at java.base/java.io.FilterOutputStream.flush(FilterOutputStream.java:155)
	at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1200)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1063)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.usyd.catams.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:63)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at java.base/sun.nio.ch.SocketDispatcher.write0(Native Method)
	at java.base/sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:54)
	at java.base/sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:137)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:102)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:58)
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:542)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:118)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1381)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:764)
	at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:728)
	at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:712)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:566)
	at org.apache.coyote.http11.filters.ChunkedOutputFilter.flush(ChunkedOutputFilter.java:157)
	at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:220)
	at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1245)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:400)
	at org.apache.coyote.Response.action(Response.java:208)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:301)
	... 136 common frames omitted
19:02:46.784 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:02:46.785 [http-nio-8084-exec-8] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=21, requesterId=2
19:02:46.785 [http-nio-8084-exec-8] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=21, requesterId=2
19:02:46.788 [http-nio-8084-exec-8] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=21, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
19:02:46.789 [http-nio-8084-exec-8] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
19:02:48.973 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:02:48.999 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:02:49.000 [http-nio-8084-exec-5] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=22, requesterId=2
19:02:49.000 [http-nio-8084-exec-5] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=22, requesterId=2
19:02:49.009 [http-nio-8084-exec-5] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=22, approverId=2, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
19:02:49.012 [http-nio-8084-exec-5] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=22, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
19:02:49.021 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:02:49.022 [http-nio-8084-exec-8] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=TUTOR_CONFIRM, timesheetId=22, requesterId=3
19:02:49.022 [http-nio-8084-exec-8] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=TUTOR_CONFIRM, timesheetId=22, requesterId=3
19:02:49.030 [http-nio-8084-exec-8] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=TUTOR_CONFIRM, timesheetId=22, approverId=3, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
19:02:49.033 [http-nio-8084-exec-8] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=TUTOR_CONFIRM, timesheetId=22, fromStatus=PENDING_TUTOR_CONFIRMATION, toStatus=TUTOR_CONFIRMED
19:02:49.042 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:02:49.043 [http-nio-8084-exec-7] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=22, requesterId=2
19:02:49.044 [http-nio-8084-exec-7] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=22, requesterId=2
19:02:49.050 [http-nio-8084-exec-7] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=LECTURER_CONFIRM, timesheetId=22, approverId=2, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
19:02:49.054 [http-nio-8084-exec-7] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=LECTURER_CONFIRM, timesheetId=22, fromStatus=TUTOR_CONFIRMED, toStatus=LECTURER_CONFIRMED
19:02:49.357 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:02:49.358 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:02:49.381 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:02:49.457 [http-nio-8084-exec-4] ERROR c.u.c.e.GlobalExceptionHandler - System exception: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
org.apache.catalina.connector.ClientAbortException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:305)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:267)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:120)
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:524)
	at java.base/java.io.FilterOutputStream.flush(FilterOutputStream.java:155)
	at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1200)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1063)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:483)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:114)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:297)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.usyd.catams.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:63)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at java.base/sun.nio.ch.SocketDispatcher.write0(Native Method)
	at java.base/sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:54)
	at java.base/sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:137)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:102)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:58)
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:542)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:118)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1381)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:764)
	at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:728)
	at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:712)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:566)
	at org.apache.coyote.http11.filters.ChunkedOutputFilter.flush(ChunkedOutputFilter.java:157)
	at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:220)
	at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1245)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:400)
	at org.apache.coyote.Response.action(Response.java:208)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:301)
	... 136 common frames omitted
19:02:59.447 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:02:59.448 [http-nio-8084-exec-6] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=22, requesterId=2
19:02:59.448 [http-nio-8084-exec-6] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=22, requesterId=2
19:02:59.451 [http-nio-8084-exec-6] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=22, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
19:02:59.453 [http-nio-8084-exec-6] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status LECTURER_CONFIRMED
19:03:01.499 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:03:01.501 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
19:03:01.520 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
DEBUG: Lecturer 2 has 2 courses
DEBUG: Course IDs: [1, 2]
DEBUG: Summary data: 8 timesheets
19:03:14.348 [http-nio-8084-exec-10] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:03:14.370 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:03:14.371 [http-nio-8084-exec-1] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=23, requesterId=2
19:03:14.371 [http-nio-8084-exec-1] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=23, requesterId=2
19:03:14.377 [http-nio-8084-exec-1] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=23, approverId=2, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
19:03:14.379 [http-nio-8084-exec-1] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=23, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
19:03:14.614 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:03:14.614 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:03:14.626 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:03:31.911 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:03:31.912 [http-nio-8084-exec-3] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=23, requesterId=2
19:03:31.913 [http-nio-8084-exec-3] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=23, requesterId=2
19:03:31.916 [http-nio-8084-exec-3] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=23, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status PENDING_TUTOR_CONFIRMATION
19:03:31.917 [http-nio-8084-exec-3] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status PENDING_TUTOR_CONFIRMATION
19:03:31.925 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:03:31.930 [http-nio-8084-exec-9] WARN  c.u.c.e.GlobalExceptionHandler - Business rule violation: Cannot delete timesheet with status: PENDING_TUTOR_CONFIRMATION. Only DRAFT timesheets can be deleted.
19:03:33.769 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:03:33.793 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:03:33.794 [http-nio-8084-exec-3] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=SUBMIT_FOR_APPROVAL, timesheetId=24, requesterId=2
19:03:33.795 [http-nio-8084-exec-3] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=SUBMIT_FOR_APPROVAL, timesheetId=24, requesterId=2
19:03:33.802 [http-nio-8084-exec-3] INFO  c.u.c.a.ApprovalApplicationService - Approval succeeded: action=SUBMIT_FOR_APPROVAL, timesheetId=24, approverId=2, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
19:03:33.805 [http-nio-8084-exec-3] INFO  c.u.c.controller.ApprovalController - HTTP approve OK: action=SUBMIT_FOR_APPROVAL, timesheetId=24, fromStatus=DRAFT, toStatus=PENDING_TUTOR_CONFIRMATION
19:03:34.096 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:03:34.096 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:03:34.113 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:03:51.485 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:03:51.486 [http-nio-8084-exec-7] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=24, requesterId=2
19:03:51.486 [http-nio-8084-exec-7] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=24, requesterId=2
19:03:51.492 [http-nio-8084-exec-7] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=24, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status PENDING_TUTOR_CONFIRMATION
19:03:51.493 [http-nio-8084-exec-7] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status PENDING_TUTOR_CONFIRMATION
19:03:51.504 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:03:51.513 [http-nio-8084-exec-5] WARN  c.u.c.e.GlobalExceptionHandler - Business rule violation: Cannot delete timesheet with status: PENDING_TUTOR_CONFIRMATION. Only DRAFT timesheets can be deleted.
19:03:53.903 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:03:53.903 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:03:53.920 [http-nio-8084-exec-3] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:04:06.134 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:04:21.244 [http-nio-8084-exec-2] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:04:21.245 [http-nio-8084-exec-2] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=25, requesterId=2
19:04:21.245 [http-nio-8084-exec-2] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=25, requesterId=2
19:04:21.249 [http-nio-8084-exec-2] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=25, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status DRAFT
19:04:21.251 [http-nio-8084-exec-2] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status DRAFT
19:04:21.259 [http-nio-8084-exec-4] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN
19:04:23.691 [http-nio-8084-exec-7] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:04:23.692 [http-nio-8084-exec-5] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:04:23.708 [http-nio-8084-exec-6] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: tutor@example.com with role: TUTOR
19:04:36.000 [http-nio-8084-exec-8] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:04:51.110 [http-nio-8084-exec-1] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: lecturer@example.com with role: LECTURER
19:04:51.111 [http-nio-8084-exec-1] INFO  c.u.c.controller.ApprovalController - HTTP approve: action=LECTURER_CONFIRM, timesheetId=26, requesterId=2
19:04:51.111 [http-nio-8084-exec-1] INFO  c.u.c.a.ApprovalApplicationService - Approval requested: action=LECTURER_CONFIRM, timesheetId=26, requesterId=2
19:04:51.116 [http-nio-8084-exec-1] ERROR c.u.c.a.ApprovalApplicationService - Approval failed: action=LECTURER_CONFIRM, timesheetId=26, requesterId=2, type=IllegalArgumentException, message=Cannot perform LECTURER_CONFIRM on timesheet with status DRAFT
19:04:51.118 [http-nio-8084-exec-1] WARN  c.u.c.e.GlobalExceptionHandler - Illegal argument exception: Cannot perform LECTURER_CONFIRM on timesheet with status DRAFT
19:04:51.127 [http-nio-8084-exec-9] DEBUG c.u.c.s.JwtAuthenticationFilter - JWT authentication successful for user: admin@example.com with role: ADMIN

