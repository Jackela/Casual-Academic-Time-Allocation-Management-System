TimesheetQuoteRequest:
  type: object
  required:
    - tutorId
    - courseId
    - taskType
    - qualification
    - repeat
    - deliveryHours
    - sessionDate
  properties:
    tutorId:
      type: integer
      format: int64
    courseId:
      type: integer
      format: int64
    taskType:
      type: string
      enum:
        - LECTURE
        - TUTORIAL
        - ORAA
        - DEMO
        - MARKING
    qualification:
      type: string
      enum:
        - STANDARD
        - COORDINATOR
        - PHD
    repeat:
      type: boolean
    deliveryHours:
      type: number
      format: float
      minimum: 0.1
      maximum: 40.0
    sessionDate:
      type: string
      format: date
    description:
      type: string
      maxLength: 1000
      description: Optional user note included in persistence payloads.

TimesheetQuoteResponse:
  type: object
  required:
    - taskType
    - rateCode
    - rateVersion
    - qualification
    - repeat
    - deliveryHours
    - associatedHours
    - payableHours
    - hourlyRate
    - amount
    - formula
    - clauseReference
    - sessionDate
  properties:
    taskType:
      type: string
    rateCode:
      type: string
      example: TU1
    rateVersion:
      type: string
      example: EA-2023-2026-Schedule1:v1.0.0
    qualification:
      type: string
    repeat:
      type: boolean
    deliveryHours:
      type: number
      format: float
    associatedHours:
      type: number
      format: float
    payableHours:
      type: number
      format: float
    hourlyRate:
      type: number
      format: float
    amount:
      type: number
      format: float
    formula:
      type: string
      example: 1h delivery + 2h associated
    clauseReference:
      type: string
      example: Schedule 1 Item 1
    sessionDate:
      type: string
      format: date

TimesheetCreateRequest:
  allOf:
    - $ref: '#/TimesheetQuoteRequest'
  description: Client submits instructional fields only; financial values are recalculated server-side.

TimesheetUpdateRequest:
  allOf:
    - $ref: '#/TimesheetQuoteRequest'
  description: Same shape as create request; ignored fields will be recalculated.

TimesheetResponse:
  type: object
  required:
    - id
    - tutorId
    - courseId
    - taskType
    - qualification
    - repeat
    - sessionDate
    - deliveryHours
    - associatedHours
    - payableHours
    - hourlyRate
    - amount
    - rateCode
    - rateVersion
    - formula
    - clauseReference
    - status
  properties:
    id:
      type: integer
      format: int64
    tutorId:
      type: integer
      format: int64
    courseId:
      type: integer
      format: int64
    taskType:
      type: string
    qualification:
      type: string
    repeat:
      type: boolean
    sessionDate:
      type: string
      format: date
    deliveryHours:
      type: number
      format: float
    associatedHours:
      type: number
      format: float
    payableHours:
      type: number
      format: float
    hourlyRate:
      type: number
      format: float
    amount:
      type: number
      format: float
    rateCode:
      type: string
    rateVersion:
      type: string
    formula:
      type: string
    clauseReference:
      type: string
    description:
      type: string
      nullable: true
    status:
      $ref: '../schemas/approvals.yaml#/ApprovalStatus'
    createdAt:
      type: string
      format: date-time
    updatedAt:
      type: string
      format: date-time

TimesheetPageResponse:
  type: object
  required:
    - items
    - page
  properties:
    items:
      type: array
      items:
        $ref: '#/TimesheetResponse'
    page:
      $ref: '#/PagedMetadata'
PagedMetadata:
  type: object
  required:
    - page
    - size
    - totalElements
    - totalPages
  properties:
    page:
      type: integer
      minimum: 0
    size:
      type: integer
      minimum: 1
    totalElements:
      type: integer
      format: int64
    totalPages:
      type: integer
    hasNext:
      type: boolean
    hasPrevious:
      type: boolean
