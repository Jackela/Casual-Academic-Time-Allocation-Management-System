post:
  tags:
    - Users
  summary: Create new user
  description: |
    Create a new user account in the system.
    
    **Required role**: ADMIN
    
    **Business rules**:
    - Email must be unique in the system
    - Password must meet security requirements (8+ chars, mixed case, numbers, special chars)
    - Only ADMIN users can create new accounts
    - Default user status is active
  operationId: createUser
  security:
    - bearerAuth: []
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: '../schemas/users.yaml#/UserCreateRequest'
        examples:
          create_lecturer:
            summary: Create lecturer account
            value:
              email: "new.lecturer@university.edu.au"
              name: "Dr. Jane Doe"
              password: "SecurePass123!"
              role: "LECTURER"
          create_tutor:
            summary: Create tutor account
            value:
              email: "new.tutor@university.edu.au"
              name: "Alice Johnson"
              password: "MyPassword456!"
              role: "TUTOR"
  responses:
    '201':
      description: User created successfully
      content:
        application/json:
          schema:
            $ref: '../schemas/users.yaml#/UserResponse'
          examples:
            created_user:
              summary: Successfully created user
              value:
                id: 123
                email: "new.lecturer@university.edu.au"
                name: "Dr. Jane Doe"
                role: "LECTURER"
    '400':
      description: Invalid request data
      content:
        application/json:
          schema:
            $ref: '../schemas/errors.yaml#/ErrorResponse'
          examples:
            email_exists:
              summary: Email already exists
              value:
                timestamp: "2025-08-01T10:15:30.123Z"
                status: 400
                error: "EMAIL_EXISTS"
                message: "Email already exists"
                path: "/api/users"
    '401':
      description: Authentication required
      content:
        application/json:
          schema:
            $ref: '../schemas/errors.yaml#/ErrorResponse'
    '403':
      description: Insufficient permissions
      content:
        application/json:
          schema:
            $ref: '../schemas/errors.yaml#/ErrorResponse'
    '500':
      description: Internal server error
      content:
        application/json:
          schema:
            $ref: '../schemas/errors.yaml#/ErrorResponse'
